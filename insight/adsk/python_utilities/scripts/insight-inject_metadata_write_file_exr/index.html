<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../../../img/favicon.ico" />
    <title>Insight: Injecting Metadata into OpenEXR Files - Flame API Docs</title>
    <link rel="stylesheet" href="../../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Insight: Injecting Metadata into OpenEXR Files";
        var mkdocs_page_input_path = "insight/adsk/python_utilities/scripts/insight-inject_metadata_write_file_exr.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../../.." class="icon icon-home"> Flame API Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../../../../index.md">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../../../../docs/api/flame.md">Flame</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Symbols</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../../../../../docs/api/classes/README.md">Classes</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../../../../docs/api/functions/README.md">Functions</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../../../../docs/api/constants/README.md">Constants</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../..">Flame API Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Insight: Injecting Metadata into OpenEXR Files</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="insight-injecting-metadata-into-openexr-files">Insight: Injecting Metadata into OpenEXR Files</h1>
<p>This document explains the <code>inject_metadata_write_file_exr.py</code> script. It shows how to embed important information (like the project name and user) directly into the headers of your rendered files.</p>
<p><strong>Target Audience:</strong> Novice Python programmers interested in pipeline data and metadata.</p>
<hr />
<h2 id="1-why-inject-metadata">1. Why Inject Metadata?</h2>
<p>When you render a shot as an OpenEXR sequence, the files go onto a server where other artists (like compositors or colorists) pick them up. If they have a problem with a file, they need to know:
- Which project did this come from?
- Which version of Flame rendered it?
- Who was the artist?</p>
<p><strong>This script automates that bookkeeping.</strong> It "tags" every frame with this info invisibly inside the file header.</p>
<hr />
<h2 id="2-key-concepts">2. Key Concepts</h2>
<h3 id="a-the-batch_export_begin-hook">A. The <code>batch_export_begin</code> Hook</h3>
<p>Unlike the <code>end</code> hook, this one runs <em>before</em> the first frame is written. This is the perfect time to set the "Rules" for the render.</p>
<h3 id="b-targeting-the-write-file-node">B. Targeting the "Write File" Node</h3>
<p>The script finds the specific node doing the work:</p>
<pre><code class="language-python">write_file = flame.batch.get_node(info.get(&quot;nodeName&quot;))
</code></pre>
<h3 id="c-channel-specific-metadata">C. Channel-Specific Metadata</h3>
<p>OpenEXR files can have many channels (Red, Green, Blue, Alpha, Depth). The script iterates through every channel and injects the same metadata into all of them so the info is never lost.</p>
<pre><code class="language-python">write_file.set_metadata_value(channel_name, key, value)
</code></pre>
<hr />
<h2 id="3-what-information-is-saved">3. What Information is Saved?</h2>
<p>The script currently saves:
- <strong><code>flame/version</code></strong>: The version of Flame used.
- <strong><code>flame/project</code></strong>: The name of the project.
- <strong><code>flame/workspace</code></strong>: The artist's workspace.
- <strong><code>flame/user</code></strong>: The artist's name.</p>
<hr />
<h2 id="4-why-is-this-useful">4. Why is this useful?</h2>
<ul>
<li><strong>Traceability:</strong> You can always find the source of a file, even years later.</li>
<li><strong>Automation:</strong> Other software (like ShotGrid or Deadline) can read these headers to automatically organize files.</li>
<li><strong>Accuracy:</strong> It removes the need for artists to manually type notes into the render settings.</li>
</ul>
<hr />
<h2 id="5-key-takeaway-for-beginners">5. Key Takeaway for Beginners</h2>
<p>Metadata is the <strong>"DNA"</strong> of a digital file. By using the <code>set_metadata_value</code> function, you are ensuring that your files carry their history with them wherever they go.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../../..";</script>
    <script src="../../../../../js/theme_extra.js"></script>
    <script src="../../../../../js/theme.js"></script>
      <script src="../../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
